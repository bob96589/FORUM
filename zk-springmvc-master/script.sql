DROP TABLE USER;
DROP TABLE ARTICLE;
DROP TABLE COMMENT;
DROP TABLE TAGDETAIL;
DROP TABLE TAG;

CREATE TABLE USER (
   ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 1000, INCREMENT BY 1),
   USERNAME VARCHAR(20) NOT NULL,
   PASSWORD VARCHAR(100) NOT NULL,
   AUTHORITY VARCHAR(50),
   PRIMARY KEY (ID) 
);
--password
INSERT INTO USER (USERNAME, PASSWORD, AUTHORITY) VALUES ('andy', '$2a$10$GUoLkfeqb9xrEC0GbgpfkuKE.3Eiy2D46rlmOVUSwv7RK3dZJyUXS', 'admin,user' );
INSERT INTO USER (USERNAME, PASSWORD, AUTHORITY) VALUES ('bob', '$2a$10$GUoLkfeqb9xrEC0GbgpfkuKE.3Eiy2D46rlmOVUSwv7RK3dZJyUXS', 'admin,user' );
INSERT INTO USER (USERNAME, PASSWORD, AUTHORITY) VALUES ('cathy', '$2a$10$GUoLkfeqb9xrEC0GbgpfkuKE.3Eiy2D46rlmOVUSwv7RK3dZJyUXS', 'user' );

CREATE TABLE ARTICLE (
   ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 2000, INCREMENT BY 1),
   USER_ID INT NOT NULL,
   TITLE VARCHAR(200) NOT NULL,
   CONTENT CLOB NOT NULL,
   CREATE_TIME DATETIME,
   STATUS INT,
   PRIMARY KEY (ID) 
);
INSERT INTO ARTICLE (USER_ID, TITLE, CONTENT, CREATE_TIME, STATUS) VALUES (1000, 'TITLE_1', 'CONTENT_1', TIMESTAMP '2018-01-01 01:00:00', 0);
INSERT INTO ARTICLE (USER_ID, TITLE, CONTENT, CREATE_TIME, STATUS) VALUES (1000, 'TITLE_2', 'CONTENT_2', TIMESTAMP '2009-02-01 02:00:00', 0);


CREATE TABLE COMMENT (
   ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 4000, INCREMENT BY 1),
   ARTICLE_ID INT,
   USER_ID INT NOT NULL,
   CONTENT CLOB NOT NULL,
   CREATE_TIME DATETIME,
   STATUS INT,
   PRIMARY KEY (ID) 
);

INSERT INTO COMMENT (ARTICLE_ID, USER_ID, CONTENT, CREATE_TIME, STATUS) VALUES (2001, 1000, 'CONTENT_1', TIMESTAMP '2009-01-01 01:00:00', 0);


CREATE TABLE TAG (
   ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 3000, INCREMENT BY 1),
   NAME VARCHAR(50) NOT NULL,
   PRIMARY KEY (ID) 
);

CREATE TABLE TAGDETAIL (
   ARTICLE_ID INT NOT NULL,
   TAG_ID INT NOT NULL,
   PRIMARY KEY (ARTICLE_ID, TAG_ID) 
);

/**
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2000, 3000);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2000, 3001);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2000, 3002);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2001, 3000);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2002, 3001);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2003, 3000);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2004, 3002);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2005, 3000);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2006, 3003);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2006, 3004);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2007, 3000);
INSERT INTO TAGDETAIL (ARTICLE_ID, TAG_ID) VALUES (2008, 3005);




INSERT INTO TAG (NAME) VALUES ('A');
INSERT INTO TAG (NAME) VALUES ('B');
INSERT INTO TAG (NAME) VALUES ('C');
INSERT INTO TAG (NAME) VALUES ('D');
INSERT INTO TAG (NAME) VALUES ('E');
INSERT INTO TAG (NAME) VALUES ('F');

**/